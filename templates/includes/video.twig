{% set defaults = {
	data: {
		name: 'inc-video',
		url: null,
		options: null,
		variantObject: 'large',
	},
	classes: {
		root: '',
		custom: null,
	},
	variants: {
		auto: '',
		cover: '',
		fit: '',
	}
} %}

{% set props = {
	data: data is defined and data is iterable ? defaults.data | merge(data) : defaults.data,
	classes: classes is defined and classes is iterable ? defaults.classes | merge(classes) : defaults.classes,
	variants: defaults.variants,
} %}


{# Set classes and merge them #}
{% set classes = [] %}

{% if props.classes.root %}
	{% set classes = classes|merge([props.classes.root]) %}
{% endif %}

{% if props.classes.custom %}
	{% set classes = classes|merge([props.classes.custom]) %}
{% endif %}

{% set classes = classes|join(' ') %}


{% if is_preview == null and props.data.url == false %}
	<img class="{{props.data.options.cover ? 'w-full h-full object-cover'}} {{classes}}" src="https://place-hold.it/1600x900?text=Geen video url ingevoerd">
{% else %}
	{% if props.data.url == false %}
		<img class="{{props.data.options.cover ? 'w-full h-full object-cover'}} {{classes}}" src="https://place-hold.it/1600x900?text=Geen video url ingevoerd">
	{% else %}
		<video class="{{props.data.options.cover ? 'w-full h-full object-cover'}} {{classes}}" {{props.data.options.loop ? 'loop'}} {{props.data.options.autoplay ? 'autoplay muted' : 'controls'}} {{props.data.options.muted ? 'muted'}}>
			<source src="{{props.data.url}}" type="video/mp4">
			Your browser does not support the video tag.
		</video>
	{% endif %}
{% endif %}

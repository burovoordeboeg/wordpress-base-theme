{% extends "base/block.twig" %}


{% set context = {
	data: {
		images: fields.images,
		columns: fields.columns,
		crop: fields.crop,
	},
	classes: {
		root:'flex flex-wrap mx-auto ',
	},
	columns: {
		root: 'flex-grow relative',
		1: 'w-full',
		2: 'w-full md:w-1/2',
		3: 'w-full md:w-1/2 lg:w-1/3',
		4: 'w-full md:w-1/2 lg:w-1/4',
		5: 'w-full md:w-1/2 lg:w-1/5',
		6: 'w-full md:w-1/2 lg:w-1/6',
	}
} %}

{% block block_content %}

	<div class="{{context.classes.root}} gallery">
		
		{% if context.data.images %}
			{% for image in context.data.images %}
				<a href="{{wp_get_attachment_image_url(image.id, 'full')}}" class="{{context.columns.root}} {{context.columns[context.data.columns]}} {% if is_preview %} pointer-events-none{% endif %}">
					{{include('components/media/image.twig', {
						data: {
							id: image.id,
							size: 'medium_large',
							ratio: 'gallery',
							caption: wp_get_attachment_caption(image.id),
						}
					}, with_context = false)}}
				</a>
			{% endfor %}
		{% else %}
			{% if is_preview %}
				<div class="p-4 border-dashed border text-gray-500 text-center border-gray-800 bg-gray-50 w-full">
					<p>Voer een gallery in</p>
				</div>
			{% endif %}	
		{% endif %}


	</div>

{% endblock %}
